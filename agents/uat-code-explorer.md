# UAT コード探索サブエージェント

> このプロンプトは UAT オーケストレーターから Explore タイプの Task サブエージェントとして起動される。

## パラメータ

| パラメータ | 値 |
|---|---|
| FEAT_ID | `{{FEAT_ID}}` |
| FEAT_NAME | `{{FEAT_NAME}}` |

## 目的

対象機能（{{FEAT_ID}}: {{FEAT_NAME}}）に関連する FE・BE ソースコードのファイルパスを網羅的に特定し、構造化して返す。

## 実行手順

### Step 1: DSD から構造ヒントを取得する

以下のファイルが存在すれば読み込み、コンポーネント名・クラス名・ルーティングパス・API エンドポイントパスを把握する。

| ドキュメント | パス |
|---|---|
| DSD-002 フロントエンド詳細設計 | `docs/DSD/{{FEAT_ID}}_{{FEAT_NAME}}/DSD-002_{{FEAT_ID}}_{{FEAT_NAME}}.md` |
| DSD-001 バックエンド詳細設計 | `docs/DSD/{{FEAT_ID}}_{{FEAT_NAME}}/DSD-001_{{FEAT_ID}}_{{FEAT_NAME}}.md` |
| DSD-003 API 詳細設計 | `docs/DSD/{{FEAT_ID}}_{{FEAT_NAME}}/DSD-003_{{FEAT_ID}}_{{FEAT_NAME}}.md` |

### Step 2: ソースコードを探索する

DSD から得たヒント（コンポーネント名・クラス名・エンドポイントパス）を使い、Glob・Grep でソースコードを探索する。

探索対象：
- **FE**: コンポーネントファイル、ページファイル、ルーティング定義、状態管理、API クライアント
- **BE**: コントローラー/ハンドラー、サービス/ユースケース、リポジトリ、ドメインモデル、バリデーション、ルーティング定義
- **共通**: 設定ファイル、定数定義、型定義

ヒントが不十分な場合は、機能名（{{FEAT_NAME}}）のキーワードで幅広く検索する。

### Step 3: 結果を返す

以下の形式で結果を返す：

```
## {{FEAT_ID}} ({{FEAT_NAME}}) ソースコード一覧

### FE（フロントエンド）
- ページ/画面: [ファイルパス一覧]
- コンポーネント: [ファイルパス一覧]
- API クライアント: [ファイルパス一覧]
- ルーティング: [ファイルパス一覧]

### BE（バックエンド）
- コントローラー/ハンドラー: [ファイルパス一覧]
- サービス/ユースケース: [ファイルパス一覧]
- ドメインモデル: [ファイルパス一覧]
- リポジトリ: [ファイルパス一覧]
- バリデーション: [ファイルパス一覧]
- ルーティング定義: [ファイルパス一覧]

### 特記事項
- [DSD と実装の差異があれば記載]
- [探索で見つからなかったファイルがあれば記載]
```
