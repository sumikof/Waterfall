# ST ドキュメントテンプレート集

## 目次

- [ST-001](#st-001-システムテスト仕様結果書) システムテスト仕様・結果書（E2E・業務フロー全体）
- [ST-002](#st-002-性能テスト仕様結果書) 性能テスト仕様・結果書（負荷試験・レスポンスタイム）
- [ST-003](#st-003-セキュリティテスト仕様結果書) セキュリティテスト仕様・結果書（脆弱性診断・認証/認可）
- [ST-004](#st-004-不具合管理票システムテスト) 不具合管理票（プロジェクト共通）

ST-001〜ST-004 の Markdown テンプレート。テスト実施後に埋めて出力する。

---

## ST-001: システムテスト仕様・結果書

**ファイル名**: `ST-001_system-test.md`
**配置先**: `projects/PRJ-{NNN}_{プロジェクト名}/ST/`
**入力元**: BSD-008, REQ-003, REQ-005, IT-001_{FEAT-ID}（全FEAT-ID）, IT-003

```markdown
# ST-001 システムテスト仕様・結果書

| 項目 | 値 |
|---|---|
| ドキュメントID | ST-001 |
| プロジェクトID | PRJ-{NNN} |
| テスト実施日 | YYYY-MM-DD |
| 担当者 | {担当者名} |
| テスト環境 | {環境名（例: staging / 本番相当環境）} |
| 参照 IT ドキュメント | IT-001_{FEAT-ID}（全FEAT-ID）, IT-002, IT-003 |

---

## 1. テスト対象スコープ

### 1.1 対象機能一覧

| FEAT-ID | 機能名 | 対象 IT-001 | 備考 |
|---|---|---|---|
| FEAT-{NNN} | {機能名} | IT-001_FEAT-{NNN} | - |

### 1.2 テスト対象外

| 対象外項目 | 理由 |
|---|---|
| {対象外の機能・シナリオ} | {除外理由（例: ST-002で性能テストとして実施 / UAT で実施）} |

---

## 2. テスト環境・前提条件

### 2.1 テスト環境

| 項目 | 値 |
|---|---|
| テスト環境 URL | {URL} |
| バックエンドバージョン | {バージョン / コミットハッシュ} |
| フロントエンドバージョン | {バージョン / コミットハッシュ} |
| DB 状態 | {テストデータ投入済み / クリーン} |
| 外部システム接続 | {実環境 / スタブ / モック} |

### 2.2 前提条件

- 全 IT-001 が PASS していること（または保留不具合が ST-004 に登録済みであること）
- IT-002 API 結合テストが PASS していること
- テスト環境が本番相当のデータ量・設定で稼働していること

### 2.3 テストデータ

| データ名 | 内容 | 準備方法 |
|---|---|---|
| {データ名} | {説明} | {SQL / シードスクリプト / 手動} |

---

## 3. E2E テストシナリオ一覧

> テストシナリオケース ID は `STC-{NNN}` 形式（プロジェクト内で連番）。
> 仕様列（前提条件・操作手順・期待値）を設計後、テスト実施時に結果列を埋める。

| テストケースID | シナリオ名 | 関連ユースケース | 前提条件 | 操作手順 | 期待値 | 結果 | BUG-ID |
|---|---|---|---|---|---|---|---|
| STC-001 | {シナリオ名（例: ユーザー登録から初回ログインまでの業務フロー）} | {REQ-003のユースケースID} | {システム状態・テストデータ・ユーザー権限} | {1. 画面操作 2. システム動作 3. 結果確認} | {画面表示・データ変化・システム状態} | OK / NG / SKIP | {BUG-NNN or -} |

---

## 4. IT フェーズ保留不具合の再確認結果

> IT-003 の保留不具合（対応状況: 保留）をここで再確認する。

| BUG-ID（IT-003） | 内容 | STC-ID | 再確認結果 | 備考 |
|---|---|---|---|---|
| BUG-{NNN} | {不具合の概要} | STC-{NNN} | OK / NG / 未確認 | {備考} |

> 保留不具合なしの場合は「IT フェーズの保留不具合なし」と記載する。

---

## 5. テスト結果サマリー

| 区分 | 件数 | OK | NG | SKIP |
|---|---|---|---|---|
| E2E テストシナリオ（STC） | {数} | {数} | {数} | {数} |

**合否判定**: PASS / FAIL

> PASS 条件: 全 STC が OK または SKIP（SKIP は理由必記）
> FAIL 条件: NG が残存（保留不具合は ST-004 に記録し UAT 申し送り）
> 品質基準: BSD-008 の ST 合格基準を参照

---

## 6. 不具合サマリー

| BUG-ID | 重大度 | 内容 | 対応状況 |
|---|---|---|---|
| BUG-{NNN} | 高/中/低 | {不具合の概要} | 修正済み / 対応中 / 保留 |

詳細は ST-004 を参照: `projects/PRJ-{NNN}/ST/ST-004_defect-list.md`

> 不具合なしの場合は「不具合なし」と記載する。

---

## 7. UAT フェーズへの申し送り事項

- {申し送り事項1（例: BUG-NNN は保留。UAT フェーズで再確認が必要）}
- {申し送り事項2（例: テスト環境では外部システムをスタブで接続。本番接続は UAT で確認）}
```

---

## ST-002: 性能テスト仕様・結果書

**ファイル名**: `ST-002_performance-test.md`
**配置先**: `projects/PRJ-{NNN}_{プロジェクト名}/ST/`
**入力元**: REQ-006, ST-001

```markdown
# ST-002 性能テスト仕様・結果書

| 項目 | 値 |
|---|---|
| ドキュメントID | ST-002 |
| プロジェクトID | PRJ-{NNN} |
| テスト実施日 | YYYY-MM-DD |
| 担当者 | {担当者名} |
| テスト環境 | {環境名} |
| 前提 | ST-001 完了済み |

---

## 1. 性能要件一覧

> REQ-006（非機能要件定義書）から引用する。

| 要件ID | 項目 | 基準値 | 測定条件 |
|---|---|---|---|
| {REQ-006の要件ID} | レスポンスタイム | {NNN ms 以内（95パーセンタイル）} | 同時接続 {N} ユーザー時 |
| {REQ-006の要件ID} | スループット | {NNN req/sec 以上} | 通常負荷時 |
| {REQ-006の要件ID} | エラー率 | {N% 以下} | ピーク負荷時 |
| {REQ-006の要件ID} | 同時接続数 | {NNN ユーザー以上} | - |

---

## 2. テスト環境・ツール

### 2.1 テスト環境

| 項目 | 値 |
|---|---|
| テスト環境 URL | {URL} |
| サーバースペック | {CPU・メモリ・ストレージ} |
| DB 状態 | {データ件数・インデックス状態} |

### 2.2 使用ツール

| ツール | 用途 | バージョン |
|---|---|---|
| {JMeter / Locust / k6 / etc.} | 負荷生成 | {バージョン} |
| {監視ツール} | メトリクス収集 | {バージョン} |

---

## 3. 負荷テストシナリオ

> テストケース ID は `PTC-{NNN}` 形式（プロジェクト内で連番）。

| テストケースID | シナリオ名 | 負荷条件 | テスト手順 | 合格基準 | 結果 | BUG-ID |
|---|---|---|---|---|---|---|
| PTC-001 | {シナリオ名（例: 正常負荷時レスポンスタイム確認）} | {同時接続数・リクエスト数・継続時間} | {1. ツール設定 2. 負荷投入 3. 計測} | {基準値（REQ-006参照）} | OK / NG / SKIP | {BUG-NNN or -} |

---

## 4. テスト結果

### 4.1 計測結果一覧

| テストケースID | 測定項目 | 基準値 | 計測値 | 判定 |
|---|---|---|---|---|
| PTC-{NNN} | レスポンスタイム（95%ile） | {NNN ms} | {NNN ms} | OK / NG |
| PTC-{NNN} | スループット | {NNN req/sec} | {NNN req/sec} | OK / NG |
| PTC-{NNN} | エラー率 | {N%} | {N%} | OK / NG |
| PTC-{NNN} | 最大同時接続数 | {NNN} | {NNN} | OK / NG |

### 4.2 グラフ・詳細データの参照先

> 詳細な負荷試験結果グラフ・ログは {参照先（例: 添付ファイル / 監視ツールURL）} を参照。

---

## 5. 性能要件充足判定

| 要件ID | 項目 | 基準値 | 計測値 | 判定 |
|---|---|---|---|---|
| {要件ID} | {項目} | {基準値} | {計測値} | PASS / FAIL |

**総合判定**: PASS / FAIL

> PASS 条件: 全性能要件が基準値を満たす
> FAIL 条件: いずれかの要件が基準値を超過（ST-004 に不具合登録）

---

## 6. 不具合サマリー

| BUG-ID | 重大度 | 内容 | 対応状況 |
|---|---|---|---|
| BUG-{NNN} | 高/中/低 | {不具合の概要} | 修正済み / 対応中 / 保留 |

詳細は ST-004 を参照: `projects/PRJ-{NNN}/ST/ST-004_defect-list.md`

> 不具合なしの場合は「不具合なし」と記載する。

---

## 7. UAT フェーズへの申し送り事項

- {申し送り事項1（例: BUG-NNN（性能未達）は保留。本番環境でのチューニングが必要）}
- {申し送り事項2（例: テスト環境と本番環境のスペック差異により、本番での再計測を推奨）}
```

---

## ST-003: セキュリティテスト仕様・結果書

**ファイル名**: `ST-003_security-test.md`
**配置先**: `projects/PRJ-{NNN}_{プロジェクト名}/ST/`
**入力元**: REQ-006, BSD-002, ST-001

```markdown
# ST-003 セキュリティテスト仕様・結果書

| 項目 | 値 |
|---|---|
| ドキュメントID | ST-003 |
| プロジェクトID | PRJ-{NNN} |
| テスト実施日 | YYYY-MM-DD |
| 担当者 | {担当者名} |
| テスト環境 | {環境名} |
| 前提 | ST-001 完了済み |

---

## 1. セキュリティ要件一覧

> REQ-006（非機能要件定義書）・BSD-002（セキュリティ基本設計書）から引用する。

| 要件ID | カテゴリ | 要件内容 | 参照元 |
|---|---|---|---|
| {要件ID} | 認証・認可 | {要件内容（例: JWT を用いたトークン認証を実装すること）} | BSD-002 |
| {要件ID} | 通信暗号化 | {要件内容（例: 全通信を TLS 1.2 以上で暗号化すること）} | REQ-006 |
| {要件ID} | 脆弱性対策 | {要件内容（例: OWASP Top 10 の脆弱性を排除すること）} | REQ-006 |
| {要件ID} | データ保護 | {要件内容（例: パスワードはハッシュ化して保存すること）} | BSD-002 |

---

## 2. テスト環境・ツール

### 2.1 テスト環境

| 項目 | 値 |
|---|---|
| テスト環境 URL | {URL} |
| テスト実施方式 | {ブラックボックス / グレーボックス} |

### 2.2 使用ツール

| ツール | 用途 | バージョン |
|---|---|---|
| {OWASP ZAP / Burp Suite / etc.} | 脆弱性スキャン | {バージョン} |
| {その他ツール} | {用途} | {バージョン} |

---

## 3. セキュリティテストケース

> テストケース ID は `SEC-{NNN}` 形式（プロジェクト内で連番）。

### 3.1 脆弱性診断

| テストケースID | テスト名 | 脆弱性カテゴリ | テスト手順 | 期待値 | 結果 | BUG-ID |
|---|---|---|---|---|---|---|
| SEC-001 | {テスト名（例: SQL インジェクション対策確認）} | {OWASP Top 10 カテゴリ} | {1. テスト手順 2. 確認方法} | {脆弱性が存在しないこと / 対策が実装されていること} | OK / NG / SKIP | {BUG-NNN or -} |

### 3.2 認証・認可テスト

| テストケースID | テスト名 | 対象 | テスト手順 | 期待値 | 結果 | BUG-ID |
|---|---|---|---|---|---|---|
| SEC-{NNN} | {テスト名（例: 未認証ユーザーによる保護ページアクセス拒否確認）} | {対象 API / 画面} | {1. 未認証状態で対象 URL にアクセス} | {401 / 403 エラーが返却され、アクセスが拒否されること} | OK / NG / SKIP | {BUG-NNN or -} |

### 3.3 通信暗号化確認

| テストケースID | テスト名 | 確認項目 | テスト手順 | 期待値 | 結果 | BUG-ID |
|---|---|---|---|---|---|---|
| SEC-{NNN} | {テスト名（例: TLS 証明書有効性確認）} | {TLS バージョン / 証明書有効期限} | {1. ブラウザ・ツールで証明書情報を確認} | {TLS 1.2 以上 / 証明書が有効であること} | OK / NG / SKIP | {BUG-NNN or -} |

---

## 4. テスト結果サマリー

| 区分 | 件数 | OK | NG | SKIP |
|---|---|---|---|---|
| 脆弱性診断（SEC） | {数} | {数} | {数} | {数} |
| 認証・認可テスト（SEC） | {数} | {数} | {数} | {数} |
| 通信暗号化確認（SEC） | {数} | {数} | {数} | {数} |
| **合計** | {数} | {数} | {数} | {数} |

**合否判定**: PASS / FAIL

> PASS 条件: 全 SEC が OK または SKIP（SKIP は理由必記）。重大度「高」の不具合が残存しないこと
> FAIL 条件: NG が残存（特に重大度「高」の脆弱性は即時ユーザー報告・修正必須）

---

## 5. 不具合サマリー

| BUG-ID | 重大度 | 内容 | 対応状況 |
|---|---|---|---|
| BUG-{NNN} | 高/中/低 | {不具合の概要} | 修正済み / 対応中 / 保留 |

詳細は ST-004 を参照: `projects/PRJ-{NNN}/ST/ST-004_defect-list.md`

> 不具合なしの場合は「不具合なし」と記載する。

---

## 6. UAT フェーズへの申し送り事項

- {申し送り事項1（例: BUG-NNN（XSS 脆弱性）は修正済み。UAT での再確認を推奨）}
- {申し送り事項2（例: 本番環境の WAF 設定は UAT 完了後に適用予定）}
```

---

## ST-004: 不具合管理票（システムテスト）

**ファイル名**: `ST-004_defect-list.md`
**配置先**: `projects/PRJ-{NNN}_{プロジェクト名}/ST/`
**作成単位**: プロジェクト共通（ST-001〜ST-003 で発見した不具合を集約）
**更新タイミング**: テスト中に不具合を発見した都度、随時追記する

```markdown
# ST-004 不具合管理票（システムテスト）

| 項目 | 値 |
|---|---|
| ドキュメントID | ST-004 |
| プロジェクトID | PRJ-{NNN} |
| 最終更新日 | YYYY-MM-DD |

> システムテスト（ST）フェーズ中に発見した不具合を記録する。
> ST-001（システムテスト）・ST-002（性能テスト）・ST-003（セキュリティテスト）の不具合をこのファイルに集約する。
> BUG-ID は IT-003 の採番から継続して通番で採番する。

---

## 不具合一覧

| BUG-ID | 発生テスト種別 | 関連テストケースID | 重大度 | 発生箇所 | 内容 | 対応状況 | 修正日 | 再テスト結果 |
|---|---|---|---|---|---|---|---|---|
| BUG-{NNN} | ST-001 / ST-002 / ST-003 | STC-{NNN} / PTC-{NNN} / SEC-{NNN} | 高/中/低 | {機能名 / API / 画面名} | {不具合の内容} | 修正済み / 対応中 / 保留 | YYYY-MM-DD | OK / NG / 未実施 |

---

## 重大度定義

| 重大度 | 定義 |
|---|---|
| 高 | システムが動作しない / E2E シナリオが致命的に失敗 / セキュリティ上のクリティカル脆弱性 |
| 中 | 一部シナリオが失敗 / 性能要件未達 / セキュリティ要件との乖離 |
| 低 | 軽微な表示差異・性能の軽微な乖離・セキュリティのベストプラクティス未適用 |

## 対応状況定義

| 対応状況 | 定義 |
|---|---|
| 修正済み | 修正完了・再テスト待ちまたは再テスト OK |
| 対応中 | 修正作業中 |
| 保留 | 今フェーズでは修正しない（理由を備考に記載・UAT 申し送り） |

---

## 統計サマリー

| テスト種別 | 発生数 | 修正済み | 対応中 | 保留 |
|---|---|---|---|---|
| ST-001（システムテスト） | {数} | {数} | {数} | {数} |
| ST-002（性能テスト） | {数} | {数} | {数} | {数} |
| ST-003（セキュリティテスト） | {数} | {数} | {数} | {数} |
| **合計** | {数} | {数} | {数} | {数} |

---

## UAT フェーズへの申し送り（保留不具合）

| BUG-ID | 発生テスト種別 | 内容 | 保留理由 | UAT での対応方針 |
|---|---|---|---|---|
| BUG-{NNN} | ST-{NNN} | {不具合の概要} | {保留理由} | {UATで再確認 / UATで修正 / 受入後対応} |

> 保留不具合なしの場合は「保留なし」と記載する。
```
