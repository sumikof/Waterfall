# IMP ドキュメントテンプレート集

## 目次

- [IMP-001](#imp-001-バックエンド実装完了報告書) バックエンド実装完了報告書（機能別）
- [IMP-002](#imp-002-フロントエンド実装完了報告書) フロントエンド実装完了報告書（機能別）
- [IMP-003](#imp-003-環境構築手順書) 環境構築手順書（初回のみ）
- [IMP-004-draft](#imp-004-draft-dbマイグレーション下書き) DB マイグレーション下書き（機能別・並行作業用）
- [IMP-004](#imp-004-db初期データマイグレーション手順書) DB マイグレーション手順書（全機能統合版）

IMP-001〜IMP-004 の Markdown テンプレート。実装完了後に埋めて出力する。

---

## IMP-001: バックエンド実装完了報告書

**ファイル名**: `IMP-001_{FEAT-ID}_{機能名}.md`
**配置先**: `projects/PRJ-{NNN}_{プロジェクト名}/IMP/FEAT-{NNN}_{機能名}/`
**入力元**: DSD-001, DSD-003, DSD-004, DSD-006（該当する場合）

```markdown
# IMP-001 バックエンド実装完了報告書

| 項目 | 値 |
|---|---|
| ドキュメントID | IMP-001_{FEAT-ID} |
| 機能ID | {FEAT-ID} |
| 機能名 | {機能名} |
| プロジェクトID | PRJ-{NNN} |
| 実装完了日 | YYYY-MM-DD |
| 担当者 | {担当者名} |

---

## 1. 実装済み機能一覧

| モジュール/クラス | ファイルパス | 説明 | 対応 DSD |
|---|---|---|---|
| {クラス名} | `{ファイルパス}` | {説明} | DSD-001 |
| {コントローラ名} | `{ファイルパス}` | {説明} | DSD-003 |
| {リポジトリ名} | `{ファイルパス}` | {説明} | DSD-004 |

---

## 2. 実装済み API エンドポイント

| メソッド | パス | 説明 | ステータスコード | 対応 DSD |
|---|---|---|---|---|
| {HTTP メソッド} | `{パス}` | {説明} | {コード} | DSD-003 |

---

## 3. テスト結果サマリー

| 区分 | テスト数 | 成功 | 失敗 | スキップ |
|---|---|---|---|---|
| ユニットテスト | {数} | {数} | 0 | {数} |
| 結合テスト | {数} | {数} | 0 | {数} |

**カバレッジ**: {全体カバレッジ}% （ステートメント: {%}, 分岐: {%}）

---

## 4. 設計差異一覧

| 差異ID | 対象 | DSD 仕様 | 実装内容 | 理由 | 影響 |
|---|---|---|---|---|---|
| DIFF-001 | {クラス/関数名} | {DSD の記述} | {実装内容} | {理由} | {影響・要確認事項} |

> 差異なしの場合は「差異なし」と記載する。

---

## 5. DB 変更内容

DSD-004 に基づく DB 変更の概要。詳細は IMP-004 を参照。

| テーブル | 変更種別 | 内容 |
|---|---|---|
| {テーブル名} | 新規作成 / カラム追加 / インデックス追加 | {内容} |

> DB 変更なしの場合は「DB 変更なし」と記載する。

---

## 6. 既知の制限事項

| 制限事項ID | 内容 | 理由 | 対応予定 |
|---|---|---|---|
| LIM-001 | {制限内容} | {理由} | {将来対応 / 未定} |

> 制限事項なしの場合は「なし」と記載する。

---

## 7. 次フェーズへの申し送り事項

単体テスト（UT）フェーズに向けての申し送り：

- {申し送り事項1}
- {申し送り事項2}
```

---

## IMP-002: フロントエンド実装完了報告書

**ファイル名**: `IMP-002_{FEAT-ID}_{機能名}.md`
**配置先**: `projects/PRJ-{NNN}_{プロジェクト名}/IMP/FEAT-{NNN}_{機能名}/`
**入力元**: DSD-002, DSD-003

```markdown
# IMP-002 フロントエンド実装完了報告書

| 項目 | 値 |
|---|---|
| ドキュメントID | IMP-002_{FEAT-ID} |
| 機能ID | {FEAT-ID} |
| 機能名 | {機能名} |
| プロジェクトID | PRJ-{NNN} |
| 実装完了日 | YYYY-MM-DD |
| 担当者 | {担当者名} |

---

## 1. 実装済み画面一覧

| 画面ID | 画面名 | ファイルパス | 概要 | 対応 DSD |
|---|---|---|---|---|
| SCR-{NNN} | {画面名} | `{ファイルパス}` | {概要} | DSD-002 |

---

## 2. 実装済みコンポーネント一覧

| コンポーネント名 | ファイルパス | 説明 | 対応 DSD |
|---|---|---|---|
| {コンポーネント名} | `{ファイルパス}` | {説明} | DSD-002 |

---

## 3. API 連携実装状況

| エンドポイント | 利用コンポーネント | 実装状況 | 対応 DSD |
|---|---|---|---|
| `{メソッド} {パス}` | {コンポーネント名} | 完了 | DSD-003 |

---

## 4. テスト結果サマリー

| 区分 | テスト数 | 成功 | 失敗 | スキップ |
|---|---|---|---|---|
| コンポーネントテスト | {数} | {数} | 0 | {数} |
| E2E テスト（暫定） | {数} | {数} | 0 | {数} |

---

## 5. 設計差異一覧

| 差異ID | 対象 | DSD 仕様 | 実装内容 | 理由 | 影響 |
|---|---|---|---|---|---|
| DIFF-001 | {コンポーネント/画面名} | {DSD の記述} | {実装内容} | {理由} | {影響・要確認事項} |

> 差異なしの場合は「差異なし」と記載する。

---

## 6. 既知の制限事項

| 制限事項ID | 内容 | 理由 | 対応予定 |
|---|---|---|---|
| LIM-001 | {制限内容} | {理由} | {将来対応 / 未定} |

> 制限事項なしの場合は「なし」と記載する。

---

## 7. 次フェーズへの申し送り事項

単体テスト（UT）フェーズに向けての申し送り：

- {申し送り事項1}
```

---

## IMP-003: 環境構築手順書

**ファイル名**: `IMP-003_environment-setup.md`
**配置先**: `projects/PRJ-{NNN}_{プロジェクト名}/IMP/`
**作成条件**: 初回構築・大規模環境変更時のみ
**入力元**: BSD-001

```markdown
# IMP-003 環境構築手順書

| 項目 | 値 |
|---|---|
| ドキュメントID | IMP-003 |
| プロジェクトID | PRJ-{NNN} |
| 作成日 | YYYY-MM-DD |
| 対象環境 | 開発 / テスト / ステージング / 本番 |

---

## 1. 環境一覧

| 環境 | URL/ホスト | 用途 | 管理者 |
|---|---|---|---|
| 開発 | {URL} | 開発・単体テスト | {担当者} |
| テスト | {URL} | 結合テスト・システムテスト | {担当者} |
| 本番 | {URL} | 本番運用 | {担当者} |

---

## 2. 必要なソフトウェア・バージョン

| ソフトウェア | バージョン | インストール方法 |
|---|---|---|
| {ソフトウェア名} | {バージョン} | {コマンド or URL} |

---

## 3. 環境構築手順

### 3.1 リポジトリのクローン

```bash
git clone {リポジトリURL}
cd {プロジェクトディレクトリ}
```

### 3.2 環境変数の設定

```bash
cp .env.example .env
# 以下の値を設定する
```

| 変数名 | 説明 | 例 |
|---|---|---|
| {変数名} | {説明} | {例} |

### 3.3 依存関係のインストール

```bash
{インストールコマンド}
```

### 3.4 DB セットアップ

```bash
{DB作成コマンド}
{マイグレーションコマンド}
{シードデータ投入コマンド}（開発環境のみ）
```

### 3.5 動作確認

```bash
{起動コマンド}
{ヘルスチェックコマンド}
```

---

## 4. トラブルシューティング

| 症状 | 原因 | 解決方法 |
|---|---|---|
| {症状} | {原因} | {解決手順} |
```

---

## IMP-004-draft: DB マイグレーション下書き（並行作業用）

**ファイル名**: `IMP-004_FEAT-{NNN}_draft.md`
**配置先**: `projects/PRJ-{NNN}_{プロジェクト名}/IMP/`
**作成単位**: 機能別（各 FEAT セッションが独立して作成）
**用途**: 並行作業時に各セッションが自分の担当分だけ記述する。全 FEAT 完了後に IMP-004 に統合する。

```markdown
# IMP-004 DB マイグレーション下書き（FEAT-{NNN}）

| 項目 | 値 |
|---|---|
| 対象機能 | FEAT-{NNN} {機能名} |
| プロジェクトID | PRJ-{NNN} |
| 作成日 | YYYY-MM-DD |

> このファイルは並行作業用の下書き。全 FEAT 完了後に IMP-004_db-migration.md へ統合する。

---

## マイグレーションファイル一覧（この機能分）

| 順序（仮） | ファイル名 | 内容 | 依存テーブル |
|---|---|---|---|
| - | `{マイグレーションファイル名}` | {テーブル作成/変更内容} | {依存する他テーブル名（あれば）} |

## テーブル依存関係の申し送り

他の FEAT が先に実行されている必要があるマイグレーションがあれば記載する：

- 「{テーブル名} は FEAT-{NNN} のマイグレーションが先に実行されている必要がある」

依存なしの場合は「依存なし」と記載する。

## ロールバックスクリプト概要

```bash
{rollback-command}
```
```

---

## IMP-004: DB 初期データ・マイグレーション手順書

**ファイル名**: `IMP-004_db-migration.md`
**配置先**: `projects/PRJ-{NNN}_{プロジェクト名}/IMP/`
**作成単位**: プロジェクト全体で1ファイル（全 FEAT の draft を統合して完成させる）
**入力元**: DSD-004_{FEAT-ID}、各 `IMP-004_FEAT-{NNN}_draft.md`

```markdown
# IMP-004 DB 初期データ・マイグレーション手順書

| 項目 | 値 |
|---|---|
| ドキュメントID | IMP-004 |
| プロジェクトID | PRJ-{NNN} |
| 最終更新日 | YYYY-MM-DD |

---

## 1. マイグレーションファイル一覧

| 順序 | ファイル名 | 対象 FEAT-ID | 内容 | 作成日 |
|---|---|---|---|---|
| 1 | `{マイグレーションファイル名}` | FEAT-{NNN} | {テーブル作成/変更内容} | YYYY-MM-DD |
| 2 | `{マイグレーションファイル名}` | FEAT-{NNN} | {内容} | YYYY-MM-DD |

---

## 2. 実行手順

### 2.1 マイグレーション実行

```bash
# 実行前: 現在のマイグレーション状態を確認
{migration-status-command}

# マイグレーション実行
{migration-run-command}

# 実行後: マイグレーション状態を再確認
{migration-status-command}
```

### 2.2 初期データ投入（必要な場合のみ）

```bash
{seed-command}
```

| データ | ファイル | 説明 | 対象環境 |
|---|---|---|---|
| {データ名} | `{ファイルパス}` | {説明} | 開発のみ / 全環境 |

---

## 3. ロールバック手順

```bash
# 1つ前のバージョンにロールバック
{rollback-command}

# 特定バージョンにロールバック
{rollback-to-version-command}
```

### ロールバック影響範囲

| マイグレーション | ロールバック影響 | データ損失リスク |
|---|---|---|
| {ファイル名} | {影響内容} | あり / なし |

---

## 4. 環境別の注意事項

| 環境 | 注意事項 |
|---|---|
| 開発 | {注意事項} |
| テスト | {注意事項} |
| 本番 | {注意事項・承認フロー} |
```
